{"version":3,"sources":["camera.js","graphicsCommon.js","main.js","menu.js","player.js","world.js","ts/classes/equipment.js","ts/classes/player.js","ts/interfaces/fighting.js","ts/interfaces/movement.js"],"names":["cameraFollow","cameraFocusCenterX","camPanX","canvas","width","cameraFocusCenterY","camPanY","height","playerDistFromCameraFocusX","Math","abs","activeObjects","Position","x","playerDistFromCameraFocusY","y","PLAYER_DIST_FROM_CENTER_BEFORE_CAMERA_PAN_X","PLAYER_DIST_FROM_CENTER_BEFORE_CAMERA_PAN_Y","colorRect","topleftX","topleftY","boxWidth","boxHeight","fillColor","canvasContext","fillStyle","fillRect","colorCircle","centerX","centerY","radius","beginPath","arc","PI","fill","colorText","words","textX","textY","fillText","drawBitmapCenteredWithRotation","useBitmap","atX","atY","withAng","save","translate","rotate","drawImage","restore","drawSpritemap","spriteX","spriteY","spriteWidth","spriteHeight","clearScreen","activeAssets","sliderX","sliderY","window","onload","document","getElementById","getContext","heigh","addEventListener","keyPressed","keyReleased","loadAssets","loadWorld","loadCharacters","loadMenu","startGame","evt","keyAction","newVal","player","index","keysHeld","indexOf","keyCode","push","splice","assets","i","assetElem","createElement","src","id","split","console","log","world","World","drawWorld","Player","framesPerSecond","gameloopId","setInterval","gameLoop","Draw","menuOptions","title","oldPlayer","name","self","spriteSelected","sprite","find","elem","skills","playerSkills","attributes","speed","controls","Left","Up","Right","Down","position","angle","move","includes","draw","Skill","skill","difficulty","maxLevel","currentLevel","IncreaseSkill","points","Fighting","Healing","Blocking","tilesets","Town","Tiles","TileHeight","TileWidth","Grass","Path","Wall","House","Forest","Trees","town","tileSet","grid","tile","tileset","row","col","itemAtLoc","brickLeftEdgeX","brickTopEdgeY","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","exports","__esModule","Equipment","Armor","Helmet","_super","apply","arguments","Shoulder","Chest","Legs","Feet","Attack","Move","Ability","AbilityData","Skills"],"mappings":"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","file":"bundle.js","sourcesContent":["\r\nfunction cameraFollow() {\r\n    var cameraFocusCenterX = camPanX + canvas.width / 2;\r\n    var cameraFocusCenterY = camPanY + canvas.height / 2;\r\n\r\n    var playerDistFromCameraFocusX = Math.abs(activeObjects[1].Position.x - cameraFocusCenterX);\r\n    var playerDistFromCameraFocusY = Math.abs(activeObjects[1].Position.y - cameraFocusCenterY);\r\n\r\n    if (playerDistFromCameraFocusX > PLAYER_DIST_FROM_CENTER_BEFORE_CAMERA_PAN_X) {\r\n      if (cameraFocusCenterX < activeObjects[1].Position.x) {\r\n        camPanX += 5;\r\n      } else {\r\n        camPanX -= 5;\r\n      }\r\n    }\r\n    if (playerDistFromCameraFocusY > PLAYER_DIST_FROM_CENTER_BEFORE_CAMERA_PAN_Y) {\r\n      if (cameraFocusCenterY < activeObjects[1].Position.y) {\r\n        camPanY += 5;\r\n      } else {\r\n        camPanY -= 5;\r\n      }\r\n      //console.log(camPanX, camPanY)\r\n    }\r\n\r\n    // instantCamFollow();\r\n\r\n    // this next code blocks the game from showing out of bounds\r\n    // (this isn't required, if you don't mind seeing beyond edges)\r\n    // if (camPanX < 0) {\r\n    //   camPanX = 0;\r\n    // }\r\n    // if (camPanY < 0) {\r\n    //   camPanY = 0;\r\n    // }\r\n    // var maxPanRight = BRICK_COLS * BRICK_W - canvas.width;\r\n    // var maxPanTop = BRICK_ROWS * BRICK_H - canvas.height;\r\n    // if (camPanX > maxPanRight) {\r\n    //   camPanX = maxPanRight;\r\n    // }\r\n    // if (camPanY > maxPanTop) {\r\n    //   camPanY = maxPanTop;\r\n    // }\r\n  }","function colorRect(topleftX, topleftY, boxWidth, boxHeight, fillColor) {\r\n    canvasContext.fillStyle = fillColor\r\n    canvasContext.fillRect(topleftX, topleftY, boxWidth, boxHeight);\r\n}\r\n\r\nfunction colorCircle(centerX, centerY, radius, fillColor) {\r\n    canvasContext.fillStyle = fillColor;\r\n    canvasContext.beginPath();\r\n    canvasContext.arc(centerX, centerY, radius, 0, Math.PI * 2, true)\r\n    canvasContext.fill();\r\n}\r\n\r\nfunction colorText(words, textX, textY, fillColor) {\r\n    canvasContext.fillStyle = fillColor;\r\n    canvasContext.fillText(words, textX, textY)\r\n}\r\n\r\nfunction drawBitmapCenteredWithRotation(useBitmap, atX, atY, withAng) {\r\n    canvasContext.save();\r\n    canvasContext.translate(atX, atY);\r\n    canvasContext.rotate(withAng);\r\n    canvasContext.drawImage(useBitmap, -useBitmap.width / 2, -useBitmap.height / 2);\r\n    canvasContext.restore();\r\n}\r\n\r\nfunction drawSpritemap(useBitmap, atX, atY, spriteX, spriteY, spriteWidth, spriteHeight) {\r\n    canvasContext.save();\r\n    canvasContext.translate(atX, atY);\r\n    //canvasContext.rotate(withAng); \r\n    canvasContext.drawImage(useBitmap, spriteX, spriteY, spriteWidth, spriteHeight, \r\n                            0, 0, spriteWidth, spriteHeight);\r\n    canvasContext.restore();\r\n}\r\n\r\nfunction clearScreen() {\r\n    colorRect(0, 0, canvas.width, canvas.height, 'white');\r\n}\r\n\r\n","var canvas;\r\nvar canvasContext;\r\nvar activeObjects = [];\r\nvar activeAssets = [];\r\nvar camPanX = 0;\r\nvar camPanY = 0;\r\n\r\nvar sliderX = 0;\r\nvar sliderY = 0;\r\n\r\nconst PLAYER_DIST_FROM_CENTER_BEFORE_CAMERA_PAN_X  = 150;\r\nconst PLAYER_DIST_FROM_CENTER_BEFORE_CAMERA_PAN_Y  = 100;\r\n\r\nwindow.onload = function () {\r\n    canvas = document.getElementById(\"gameCanvas\")\r\n    canvasContext = canvas.getContext('2d');\r\n\r\n    colorRect(0, 0, canvas.width, canvas.heigh, \"black\");\r\n    colorText(\"Loading Images\", canvas.width / 2, canvas.height / 2);\r\n\r\n    document.addEventListener('keydown', keyPressed);\r\n    document.addEventListener('keyup', keyReleased);\r\n\r\n    loadAssets();\r\n    loadWorld();\r\n    loadCharacters();\r\n\r\n    // Run game\r\n\r\n    loadMenu();\r\n\r\n    startGame();\r\n}\r\n\r\n\r\nfunction keyPressed(evt) {\r\n    //console.log(evt)\r\n    keyAction(evt, true);\r\n    //evt.preventDefault();\r\n}\r\n\r\nfunction keyReleased(evt) {\r\n    keyAction(evt, false);\r\n    //evt.preventDefault();\r\n}\r\n\r\nfunction keyAction(evt, newVal) {\r\n    var player = activeObjects[1];\r\n    var index = player.keysHeld.indexOf(evt.keyCode);\r\n\r\n    if (newVal && index < 0) {\r\n        player.keysHeld.push(evt.keyCode);\r\n    }\r\n    else {\r\n        player.keysHeld.splice(index, 1);\r\n    }\r\n}\r\n\r\nfunction loadAssets() {\r\n    var assets = [\r\n        \"characters/character.png\",\r\n        \"characters/cat.png\",\r\n        \"backgrounds/towntileset.png\",\r\n    ]\r\n\r\n    for (let i in assets) {\r\n        var assetElem = document.createElement(\"img\");\r\n        assetElem.src = \"assets/sprites/\" + assets[i];\r\n        assetElem.id = assets[i].split(\"/\")[1].split(\".\")[0];\r\n        activeAssets.push(assetElem);\r\n    }\r\n    console.log(activeAssets);\r\n}\r\n\r\nfunction loadWorld() {\r\n    var world = new World(\"Town\");\r\n    activeObjects.push(world);\r\n}\r\n\r\nfunction drawWorld() {\r\n    colorRect(0, 0, canvas.width, canvas.height, \"white\");\r\n}\r\n\r\nfunction loadCharacters() {\r\n    var player = new Player(\"One\", activeAssets[0]);\r\n\r\n    activeObjects.push(player);\r\n}\r\nfunction startGame() {\r\n    var framesPerSecond = 30;\r\n    var gameloopId = setInterval(gameLoop, 1000 / framesPerSecond);\r\n\r\n    //setTimeout(function () {\r\n    //        clearInterval(gameloopId);\r\n    //}, 200);\r\n\r\n}\r\n\r\nfunction gameLoop() {\r\n    //drawWorld();\r\n    for (let i in activeObjects) {\r\n        activeObjects[i].Draw();\r\n    }\r\n    cameraFollow();\r\n}","// Menu Bar\r\n\r\nfunction loadMenu() {\r\n    // Show a menu before the game loads\r\n\r\n    //Start game\r\n    //Load Game\r\n    //About\r\n\r\n    clearScreen();\r\n\r\n    var menuOptions = [\r\n        { title: \"Start Game\" }, { title: \"About Game\" }\r\n    ];\r\n\r\n\r\n    for (var i in menuOptions) {\r\n        colorRect(canvas.width / 2, canvas.height / 2 + (i * 60), 80, 40, \"black\");\r\n        colorRect(canvas.width / 2 + 2, canvas.height / 2 + 2 + (i * 60), 76, 36, \"white\");\r\n\r\n        colorText(menuOptions[i].title, canvas.width / 2 + 10, canvas.height / 2 + 20 + (i * 60), \"black\");\r\n    }\r\n}","function oldPlayer(name) {\r\n    self = this;\r\n\r\n    self.name = name;\r\n    self.spriteSelected = \"character\"\r\n    self.sprite = activeAssets.find(function(elem) { return elem.id == self.spriteSelected})\r\n    \r\n    self.skills = playerSkills();\r\n    self.attributes = { speed: 5};\r\n\r\n    // Using WASD\r\n    self.controls = { Left: 65, Up: 87, Right: 68, Down: 83, };\r\n    self.keysHeld = [];\r\n    self.position = { x: 10, y: 10, angle: 0, };\r\n\r\n    self.move = function() {\r\n        //console.log(\"moving\", self.keysHeld);\r\n        if (self.keysHeld.includes(self.controls.Left)){\r\n            self.position.x -= self.attributes.speed;\r\n        }\r\n        if (self.keysHeld.includes(self.controls.Right)){\r\n            self.position.x += self.attributes.speed;\r\n        }\r\n        if (self.keysHeld.includes(self.controls.Down)){\r\n            self.position.y += self.attributes.speed;\r\n        }\r\n        if (self.keysHeld.includes(self.controls.Up)){\r\n            self.position.y -= self.attributes.speed;\r\n        }\r\n    }\r\n\r\n    self.draw = function () {\r\n        // Called every loop (30 per second);\r\n        self.move();\r\n        drawBitmapCenteredWithRotation(self.sprite, self.position.x,  self.position.y, 0);\r\n    }\r\n}\r\n\r\nfunction Skill(skill) {\r\n    var self = this;\r\n\r\n    self.id = skill.id;\r\n    self.name = skill.name;\r\n    self.difficulty = skill.difficulty;\r\n\r\n    self.maxLevel = 1000;\r\n    self.currentLevel = 0;\r\n\r\n    self.IncreaseSkill = function (points) {\r\n        if (points > self.difficulty) {\r\n            self.currentLevel++;\r\n        }\r\n    }\r\n}\r\n\r\nfunction playerSkills() {\r\n    return {\r\n        Fighting: new Skill({ id: 1, name: 'Fighting', difficulty: 1 }),\r\n        Healing: new Skill({ id: 2, name: 'Healing', difficulty: 1 }),\r\n        Blocking: new Skill({ id: 3, name: 'Blocking', difficulty: 1 }),\r\n    }\r\n}","\r\nfunction World(world) {\r\n    var self = this;\r\n    self.tilesets = {\r\n        Town: {\r\n            Tiles: activeAssets.find(function (elem) { return elem.id == \"towntileset\" }),\r\n            TileHeight: 40,\r\n            TileWidth: 40,\r\n            Grass: 0,\r\n            Path: 1,\r\n            Wall: 2,\r\n            House: 3\r\n        },\r\n        Forest: {\r\n            Tiles: activeAssets.find(function (elem) { return elem.id == \"foresttileset\" }),\r\n            TileHeight: 40,\r\n            TileWidth: 40,\r\n            Grass: 0,\r\n            Path: 1,\r\n            Trees: 2\r\n        }\r\n    }\r\n\r\n    self.town = {\r\n        name: 'town',\r\n        tileSet: 'town',\r\n        grid: [\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 3, 0, 0, 0, 0, 0, 0, 0],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 3, 0, 0, 0, 0, 0, 0, 0],\r\n            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \r\n            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n        ]\r\n    };\r\n\r\n    self.Draw = function () {\r\n        var tile = self.tilesets.Town.Tiles;\r\n        var tileset = self.tilesets.Town;\r\n\r\n        for (let row in self.town.grid) {\r\n            for (let col in self.town.grid[row]) {\r\n                var itemAtLoc = self.town.grid[row][col];\r\n                var brickLeftEdgeX = col * tileset.TileWidth;\r\n                var brickTopEdgeY = row * tileset.TileHeight;\r\n                var spriteX = 0;\r\n                var spriteY = tileset.TileHeight * itemAtLoc;\r\n\r\n                drawSpritemap(tile, brickLeftEdgeX, brickTopEdgeY, spriteX, spriteY, tileset.TileWidth, tileset.TileHeight);\r\n\r\n            }\r\n        }\r\n        return\r\n    }\r\n\r\n}\r\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nvar Equipment = /** @class */ (function () {\n    function Equipment() {\n    }\n    return Equipment;\n}());\nexports.Equipment = Equipment;\nvar Armor = /** @class */ (function () {\n    function Armor() {\n    }\n    return Armor;\n}());\nvar Helmet = /** @class */ (function (_super) {\n    __extends(Helmet, _super);\n    function Helmet() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Helmet;\n}(Armor));\nvar Shoulder = /** @class */ (function (_super) {\n    __extends(Shoulder, _super);\n    function Shoulder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Shoulder;\n}(Armor));\nvar Chest = /** @class */ (function (_super) {\n    __extends(Chest, _super);\n    function Chest() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Chest;\n}(Armor));\nvar Legs = /** @class */ (function (_super) {\n    __extends(Legs, _super);\n    function Legs() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Legs;\n}(Armor));\nvar Feet = /** @class */ (function (_super) {\n    __extends(Feet, _super);\n    function Feet() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Feet;\n}(Armor));\n","\"use strict\";\nexports.__esModule = true;\nvar Player = /** @class */ (function () {\n    function Player() {\n        this.Position = { x: 0, y: 0 };\n        this.keysHeld = [];\n        this.controls = { Left: 65, Up: 87, Right: 68, Down: 83 };\n    }\n    ;\n    Player.prototype.Attack = function () {\n        return 1;\n    };\n    ;\n    Player.prototype.Draw = function () {\n        this.Move();\n        drawBitmapCenteredWithRotation(self.sprite, this.Position.x, this.Position.y, 0);\n        return;\n    };\n    ;\n    Player.prototype.Move = function () {\n        //console.log(\"moving\", self.keysHeld);\n        if (self.keysHeld.includes(self.controls.Left)) {\n            self.position.x -= self.attributes.speed;\n        }\n        if (self.keysHeld.includes(self.controls.Right)) {\n            self.position.x += self.attributes.speed;\n        }\n        if (self.keysHeld.includes(self.controls.Down)) {\n            self.position.y += self.attributes.speed;\n        }\n        if (self.keysHeld.includes(self.controls.Up)) {\n            self.position.y -= self.attributes.speed;\n        }\n    };\n    return Player;\n}());\nexports.Player = Player;\nvar Skill = /** @class */ (function () {\n    function Skill(name, difficulty) {\n        this.name = name;\n        this.difficulty = difficulty;\n    }\n    return Skill;\n}());\nexports.Skill = Skill;\nvar Ability = /** @class */ (function () {\n    function Ability(AbilityData, Skills) {\n    }\n    return Ability;\n}());\nexports.Ability = Ability;\n","\"use strict\";\nexports.__esModule = true;\n","\"use strict\";\nexports.__esModule = true;\n"]}